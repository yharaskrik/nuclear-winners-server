{% extends 'layout.html' %}
{% block body %}
    <p>{{ errormsg }}</p>

    <div class="row">
        <div class="col s12">
            <div class="card">
                <form action="{{ url_for("register_user") }}" method="post" id="registerForm">
                    <div class="card-content">
                        <span class="card-title"><i class="material-icons">fingerprint</i>Register</span>
                        <div class="input-field">
                            <input id="name" type="text" name="name" class="validate" size="50" maxlength="100"
                                   value="{{ data['name'] }}"
                                   required>
                            <label for="name">Name</label>
                        </div>
                        <div class="input-field">
                            <input type="text" id="username" name="username" class="validate" size="50"
                                   value="{{ data['username'] }}"
                                   required
                            >
                            <label for="username">Username</label>
                        </div>
                        <div class="input-field">
                            <input type="password" id="password" name="password" class="validate" size="50"
                                   value="{{ data['password'] }}" required
                            >
                            <label for="password">Password</label>
                        </div>
                        <div class="input-field">
                            <input type="password" class="validate" id="confirmpassword" name="confirmpassword"
                                   size="50" required
                                   value="{{ data['confirmpassword'] }}"
                            >
                            <label for="confirmpassword">Confirm Password</label>
                        </div>
                        <div class="input-field">
                            <input type="text" class="validate" id="address" name="address" size="50" maxlength="200"
                                   value="{{ data['address'] }}"
                                   required>
                            <label for="address">Shipping Address</label>
                        </div>
                        <div class="input-field">
                            <input type="text" class="validate" id="faction" name="faction"
                                   value="{{ data['faction'] }}">
                            <label for="faction">Faction</label>
                        </div>
                        <div class="input-field">
                            <select multiple name="mutations" id="mutations">
                                <option value="" disabled selected>Select your mutations</option>
                                {% for mutation in mutations %}
                                    {% if mutation.name != 'Robot' %}
                                        <option value="{{ mutation.id }}">{{ mutation.name }}</option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                            <label for="mutations">Mutations</label>
                        </div>
                        <div class="input-field">
                            <input type="checkbox" value="robot" name="robot" id="robotCheck">
                            <label for="robotCheck">I am a Robot</label>
                        </div>
                    </div>
                    <div class="card-action">
                        <a class="waves-effect waves-light btn" href="#" id="submitButton">Register</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script>
        document.getElementById("submitButton").onclick = function () {
            document.getElementById("registerForm").submit();
        };

        $(document).ready(function () {
            $('select').material_select();
        });

    </script>
{% endblock %}
